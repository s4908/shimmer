<style>
  .imageHolder {
    width: 100%;
    height: 300px;
    text-align: center;
  }
  .imageHolder img {
    vertical-align: middle;
    max-width: 100%;
  }
  .imageHolder .helper{
    display: inline-block;
    height: 100%;
    vertical-align: middle;
  }
  
  .imageHolder > .title{
    color: #000;
  }
  .imageHolder > .price{
    font-family: monospace, sans-serif;
  }
  a:hover {
    text-decoration: none;
  }

</style>

<br>

<div class="row">

  <% @products.includes(:product_attachments).each do |product| %>
    <div class="col-lg-3">
      <%= link_to product_path(product) do %>
        <div class="imageHolder">
          <div class="helper"></div>
          <%= image_tag product.product_attachments.first.image_url(:thumb) %><br>
          <div class="title"> <%= product.title %> </div>
          <div class="price"> <%= number_to_currency(product.price, precision: 0) %> </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th>Category</th>
      <th></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @products.includes(:product_attachments).each do |product| %>
      <tr>
        <td><%= product.title %></td>
        <td><%= product.description %></td>
        <td><%= product.category_id %></td>
        <%#binding.pry%>
        <td><%= image_tag product.product_attachments.first.image_url(:thumb) %></td>
        
        <td><%= link_to 'Show', product %></td>
        <td><%= link_to 'Edit', edit_product_path(product) %></td>
        <td><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Product', new_product_path %>
